{"version":3,"file":"static/js/167.321610ae.chunk.js","mappings":"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","sources":["components/LoadingSpinner/LoadingSpinner.js","components/WatchesCard/WatchesCard.js","pages/Watches/Watches.js","store/actions/watchActions.js","store/selectors/spinnerSelectors.js"],"sourcesContent":["import \"./LoadingSpinner.css\";\r\n\r\nfunction LoadingSpinner(props) {\r\n    return (\r\n        <div className=\"spinner\">\r\n        <div className=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingSpinner","import { Link } from \"react-router-dom\";\r\nimport \"./WatchesCard.css\"\r\n\r\nfunction WatchesCard({type,watch,isAuthenticated}) {\r\n\r\n   let isSearch = type === 'search'\r\n\r\n    return (\r\n<div className={ isSearch ? 'search-watches-card' : 'watches-card' } >\r\n            <div className={`${type}-img-container`}><img src={watch.image} alt=\"watch\" /></div>\r\n            <p>Brand: {watch.brand}</p>\r\n            <p>Model: {watch.model}</p>\r\n            <p>Price:  â‚¬ {watch.price}</p>\r\n            <Link to={`/watches/${watch._id}`}>Details</Link>\r\n            {!isAuthenticated && <p>You must be logged in to buy</p>}\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default WatchesCard","import { connect } from \"react-redux\"\r\nimport { bindActionCreators } from \"redux\"\r\nimport { getAllWatchesAction,increasePageAction,decreasePageAction } from \"../../store/actions/watchActions\"\r\nimport { useEffect } from \"react\"\r\nimport { isAdmin, isAuthenticated } from \"../../store/selectors/authSelectors\"\r\nimport \"./Watches.css\"\r\nimport { isLoading } from \"../../store/selectors/spinnerSelectors\"\r\nimport LoadingSpinner from \"../../components/LoadingSpinner/LoadingSpinner\"\r\nimport WatchesCard from \"../../components/WatchesCard/WatchesCard\"\r\n\r\nfunction Watches({currentPage,itemsPerPage,getAllWatchesAction,totalPages,increasePageAction,decreasePageAction,watches,isOwner,isAuthenticated,isLoading}) {\r\n\r\n    useEffect(() => {\r\n        getAllWatchesAction(currentPage, itemsPerPage);\r\n\r\n    },[currentPage,itemsPerPage,getAllWatchesAction]);\r\n\r\n    function onNext(e) {\r\n        e.preventDefault()\r\n        if(currentPage === totalPages) {\r\n            return;\r\n        }\r\n        increasePageAction()\r\n    }\r\n\r\n    function onPrevious(e) {\r\n        e.preventDefault()\r\n        if(currentPage === 1) {\r\n            return;\r\n        }\r\n        decreasePageAction()\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"outer-watches-container\">\r\n\r\n            {isLoading && <LoadingSpinner />}\r\n            <h1>Watches</h1>\r\n\r\n           <div className=\"watches-container\" >\r\n\r\n           {watches.length > 0\r\n\r\n            ? (watches.map((watch) =>\r\n            <div key={watch._id}>\r\n                <WatchesCard type=\"watches\" watch={watch} isAuthenticated={isAuthenticated} />\r\n            </div>\r\n            ))\r\n\r\n            : (<p>No watches available</p>)}\r\n\r\n           </div>\r\n\r\n            <div className=\"watches-btns\">\r\n            <button onClick={onPrevious}>Previous Page</button>\r\n            <button onClick={onNext}>Next Page</button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        watches: state.watches.watches,\r\n        currentPage: state.watches.currentPage,\r\n        itemsPerPage: state.watches.itemsPerPage,\r\n        totalPages: state.watches.totalPages,\r\n        isOwner: isAdmin(state),\r\n        isAuthenticated: isAuthenticated(state),\r\n        isLoading: isLoading(state)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({getAllWatchesAction,increasePageAction,decreasePageAction},dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Watches)","import { createWatch, deleteWatch, editWatch, getAllWatches, getAllWatchesBeforeSearch, getRate, getWatch, rate, searchByBrand } from \"../../services/watchService\";\r\nimport { ADD_CONFIRMED_RATING_TO_WATCH, ADD_FAILED_RATING_TO_WATCH, CREATE_CONFIRMED_WATCH, DECREASE_CURRENT_PAGE, DELETE_CONFIRMED_WATCH, EDIT_CONFIRMED_WATCH, GET_CONFIRMED_SEARCHED_WATCHES, GET_CONFIRMED_WATCH, GET_CONFIRMED_WATCHES, GET_CONFIRMED_WATCHES_BEFORE_SEARCH, GET_CONFIRMED_WATCH_RATING, INCREASE_CURRENT_PAGE } from \"./watchTypes\";\r\n\r\n\r\nexport function confirmedGetAllWatchesAction(data,totalPages) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCHES,\r\n        payload: { watches: data, totalPages }\r\n    };\r\n}\r\n\r\nexport function getAllWatchesAction(currentPage,itemsPerPage) {\r\n    return (dispatch) => {\r\n        getAllWatches()\r\n        .then((response) => {\r\n            let watches = response.data;\r\n            let totalWatches = watches.length;\r\n            let totalPages = Math.ceil(totalWatches / itemsPerPage)\r\n            let trimStart = (currentPage - 1) * itemsPerPage\r\n            let trimEnd = trimStart + itemsPerPage\r\n            watches = watches.slice(trimStart,trimEnd)\r\n            dispatch(confirmedGetAllWatchesAction(watches,totalPages))\r\n        })\r\n    }\r\n}\r\n\r\nexport function increasePageAction() {\r\n    return {\r\n        type: INCREASE_CURRENT_PAGE\r\n    }\r\n}\r\n\r\nexport function decreasePageAction() {\r\n    return {\r\n        type: DECREASE_CURRENT_PAGE\r\n    }\r\n}\r\n\r\n\r\nexport function confirmedGetSingleWatchAction(watchId) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCH,\r\n        payload: watchId\r\n    }\r\n}\r\n\r\nexport function getSingleWatchAction(watchId) {\r\n    return (dispatch) => {\r\n        getWatch(watchId)\r\n        .then((response) => {\r\n            dispatch(confirmedGetSingleWatchAction(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedCreateWatchAction(watch) {\r\n    return {\r\n        type: CREATE_CONFIRMED_WATCH,\r\n        payload: watch\r\n    }\r\n}\r\n\r\nexport function createWatchAction(brand,model,image,battery,mechanism,\r\n    price,strap,glass,waterResistance,navigation) {\r\n    return (dispatch) => {\r\n    createWatch(brand,model,image,battery,mechanism,\r\n        price,strap,glass,waterResistance)\r\n    .then((response) => {\r\n        dispatch(confirmedCreateWatchAction(response.data))\r\n        navigation('/')\r\n    })\r\n    }\r\n}\r\n\r\nexport function confirmedDeleteWatchAction(watchId) {\r\n    return {\r\n        type: DELETE_CONFIRMED_WATCH,\r\n        payload: watchId\r\n    }\r\n}\r\n\r\nexport function deleteWatchAction(watchId,navigation) {\r\n    return (dispatch) => {\r\n        deleteWatch(watchId)\r\n        .then((response) => {\r\n            dispatch(confirmedDeleteWatchAction(watchId))\r\n            navigation('/')\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedEditWatchAction(watch) {\r\n    return {\r\n        type: EDIT_CONFIRMED_WATCH,\r\n        payload: watch\r\n    }\r\n}\r\n\r\nexport function editWatchAction(watchId,brand,model,image,battery,mechanism,\r\n    price,strap,glass,waterResistance,navigate) {\r\n    return (dispatch) => {\r\n        editWatch(watchId,brand,model,image,battery,mechanism,\r\n            price,strap,glass,waterResistance)\r\n        .then((response) => {\r\n            dispatch(confirmedEditWatchAction(response.data))\r\n            navigate(`/watches/${watchId}`)\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedGetWatchesBeforeSearchAction(watches) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCHES_BEFORE_SEARCH,\r\n        payload: watches\r\n    }\r\n}\r\n\r\nexport function getWatchesBeforeSearchAction() {\r\n    return (dispatch) => {\r\n        getAllWatchesBeforeSearch()\r\n        .then((response) => {\r\n            dispatch(confirmedGetWatchesBeforeSearchAction(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedSearchedWatchesAction(watches) {\r\n    return {\r\n        type: GET_CONFIRMED_SEARCHED_WATCHES,\r\n        payload: watches\r\n    }\r\n}\r\n\r\nexport function searchedWatchesAction(brand) {\r\n    return (dispatch) => {\r\n        searchByBrand(brand)\r\n        .then((response) => {\r\n            dispatch(confirmedSearchedWatchesAction(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedAddRatingToWatchAction(watchId) {\r\n    return {\r\n        type: ADD_CONFIRMED_RATING_TO_WATCH,\r\n        payload: watchId\r\n    }\r\n}\r\n\r\nexport function failedAddRatingToWatchAction(message) {\r\n    return {\r\n        type: ADD_FAILED_RATING_TO_WATCH,\r\n        payload: message\r\n    }\r\n}\r\n\r\nexport function addRatingToWatchAction(watchId,userRating) {\r\n    return (dispatch) => {\r\n        rate(watchId,userRating)\r\n        .then((response) => {\r\n            dispatch(confirmedAddRatingToWatchAction(watchId))\r\n            getRate(watchId)\r\n            .then((response) => {\r\n                dispatch(confirmedGetWatchRatingAction(response.data))\r\n            })\r\n        })\r\n        .catch((error) => {\r\n            dispatch(failedAddRatingToWatchAction(error.response.data.message))\r\n            setTimeout(() => {\r\n                dispatch(failedAddRatingToWatchAction(''))\r\n            }, 1000);\r\n        })\r\n }\r\n}\r\n\r\nexport function confirmedGetWatchRatingAction(watchRating) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCH_RATING,\r\n        payload: watchRating\r\n    }\r\n}\r\n\r\nexport function getWatchRatingAction(watchId) {\r\n    return (dispatch) => {\r\n        getRate(watchId)\r\n        .then((response) => {\r\n            dispatch(confirmedGetWatchRatingAction(response.data))\r\n        })\r\n    }\r\n}","\r\nexport function isLoading(state) {\r\n    if(state.spinner.isLoading) {\r\n        return true;\r\n    }\r\n    return false;\r\n}"],"names":["props","_jsx","className","children","_jsxs","_ref","type","watch","isAuthenticated","isSearch","concat","src","image","alt","brand","model","price","Link","to","_id","connect","state","watches","currentPage","itemsPerPage","totalPages","isOwner","isAdmin","isLoading","dispatch","bindActionCreators","getAllWatchesAction","increasePageAction","decreasePageAction","useEffect","LoadingSpinner","length","map","WatchesCard","onClick","e","preventDefault","getAllWatches","then","response","data","totalWatches","Math","ceil","trimStart","trimEnd","slice","GET_CONFIRMED_WATCHES","payload","confirmedGetAllWatchesAction","INCREASE_CURRENT_PAGE","DECREASE_CURRENT_PAGE","getSingleWatchAction","watchId","getWatch","GET_CONFIRMED_WATCH","confirmedGetSingleWatchAction","createWatchAction","battery","mechanism","strap","glass","waterResistance","navigation","createWatch","CREATE_CONFIRMED_WATCH","deleteWatchAction","deleteWatch","DELETE_CONFIRMED_WATCH","confirmedDeleteWatchAction","editWatchAction","navigate","editWatch","EDIT_CONFIRMED_WATCH","getWatchesBeforeSearchAction","getAllWatchesBeforeSearch","GET_CONFIRMED_WATCHES_BEFORE_SEARCH","searchedWatchesAction","searchByBrand","GET_CONFIRMED_SEARCHED_WATCHES","failedAddRatingToWatchAction","message","ADD_FAILED_RATING_TO_WATCH","addRatingToWatchAction","userRating","rate","ADD_CONFIRMED_RATING_TO_WATCH","confirmedAddRatingToWatchAction","getRate","confirmedGetWatchRatingAction","catch","error","setTimeout","watchRating","GET_CONFIRMED_WATCH_RATING","getWatchRatingAction","spinner"],"sourceRoot":""}