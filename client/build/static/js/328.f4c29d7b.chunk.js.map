{"version":3,"file":"static/js/328.f4c29d7b.chunk.js","mappings":"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","sources":["components/LoadingSpinner/LoadingSpinner.js","pages/SearchWatches/SearchWatches.js","store/actions/watchActions.js","store/selectors/spinnerSelectors.js"],"sourcesContent":["import \"./LoadingSpinner.css\";\r\n\r\nfunction LoadingSpinner(props) {\r\n    return (\r\n        <div className=\"spinner\">\r\n        <div className=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingSpinner","import { useEffect, useState } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { getWatchesBeforeSearchAction,searchedWatchesAction } from \"../../store/actions/watchActions\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { isAuthenticated } from \"../../store/selectors/authSelectors\"\r\nimport { bindActionCreators } from \"redux\"\r\nimport \"./SearchWatches.css\"\r\nimport { isLoading } from \"../../store/selectors/spinnerSelectors\"\r\nimport LoadingSpinner from \"../../components/LoadingSpinner/LoadingSpinner\"\r\n\r\nfunction SearchWatches(props) {\r\n\r\nuseEffect(() => {\r\nprops.getWatchesBeforeSearchAction()\r\n},[]);\r\n\r\nconst [brand,setBrand] = useState('')\r\n\r\nfunction searchWatches(e) {\r\n    e.preventDefault()\r\n    props.searchedWatchesAction(brand)\r\n}\r\n\r\nreturn (\r\n    <div className=\"outer-search-container\">\r\n        {props.isLoading && <LoadingSpinner />}\r\n    <h1>Search By Brand</h1>\r\n\r\n    \r\n\r\n    <div className=\"search-form-container\">\r\n    <form onSubmit={searchWatches}>\r\n        <div>\r\n            <label>Brand Name:</label>\r\n            <input \r\n            type=\"text\"\r\n            value={brand}\r\n            onChange={(e) => setBrand(e.target.value)} />\r\n        </div>\r\n\r\n        <div>\r\n            <button type=\"submit\">Search</button>\r\n        </div>\r\n    </form>\r\n    </div>\r\n\r\n    <div className=\"results-outer-container\">\r\n        <p className=\"result-p\">Results:</p>\r\n\r\n        <div className=\"search-container\">\r\n\r\n        {props.searchedWatches.length > 0\r\n        \r\n\r\n? (props.searchedWatches.map((watch) =>\r\n<div key={watch._id} className=\"search-watches-card\">\r\n<div className=\"search-img-container\"><img src={watch.image} alt=\"watch\" /></div>\r\n<p>Brand: {watch.brand}</p>\r\n<p>Model: {watch.model}</p>\r\n<p>Price: â‚¬ {watch.price}</p>\r\n<Link to={`/watches/${watch._id}`}>Details</Link>\r\n{!props.isAuthenticated && <p>You must be logged in to buy</p>}\r\n</div>))\r\n\r\n: (<p>Not found</p>)}\r\n\r\n    </div>\r\n\r\n    </div>\r\n\r\n    </div>\r\n)\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        searchedWatches: state.watches.searchedWatches,\r\n        isAuthenticated: isAuthenticated(state),\r\n        isLoading: isLoading(state)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({getWatchesBeforeSearchAction,searchedWatchesAction},dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(SearchWatches)","import { createWatch, deleteWatch, editWatch, getAllWatches, getAllWatchesBeforeSearch, getRate, getWatch, rate, searchByBrand } from \"../../services/watchService\";\r\nimport { ADD_CONFIRMED_RATING_TO_WATCH, ADD_FAILED_RATING_TO_WATCH, CREATE_CONFIRMED_WATCH, DECREASE_CURRENT_PAGE, DELETE_CONFIRMED_WATCH, EDIT_CONFIRMED_WATCH, GET_CONFIRMED_SEARCHED_WATCHES, GET_CONFIRMED_WATCH, GET_CONFIRMED_WATCHES, GET_CONFIRMED_WATCHES_BEFORE_SEARCH, GET_CONFIRMED_WATCH_RATING, INCREASE_CURRENT_PAGE } from \"./watchTypes\";\r\n\r\n\r\nexport function confirmedGetAllWatchesAction(data,totalPages) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCHES,\r\n        payload: { watches: data, totalPages }\r\n    };\r\n}\r\n\r\nexport function getAllWatchesAction(currentPage,itemsPerPage) {\r\n    return (dispatch) => {\r\n        getAllWatches()\r\n        .then((response) => {\r\n            let watches = response.data;\r\n            let totalWatches = watches.length;\r\n            let totalPages = Math.ceil(totalWatches / itemsPerPage)\r\n            let trimStart = (currentPage - 1) * itemsPerPage\r\n            let trimEnd = trimStart + itemsPerPage\r\n            watches = watches.slice(trimStart,trimEnd)\r\n            dispatch(confirmedGetAllWatchesAction(watches,totalPages))\r\n        })\r\n    }\r\n}\r\n\r\nexport function increasePageAction() {\r\n    return {\r\n        type: INCREASE_CURRENT_PAGE\r\n    }\r\n}\r\n\r\nexport function decreasePageAction() {\r\n    return {\r\n        type: DECREASE_CURRENT_PAGE\r\n    }\r\n}\r\n\r\n\r\nexport function confirmedGetSingleWatchAction(watchId) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCH,\r\n        payload: watchId\r\n    }\r\n}\r\n\r\nexport function getSingleWatchAction(watchId) {\r\n    return (dispatch) => {\r\n        getWatch(watchId)\r\n        .then((response) => {\r\n            dispatch(confirmedGetSingleWatchAction(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedCreateWatchAction(watch) {\r\n    return {\r\n        type: CREATE_CONFIRMED_WATCH,\r\n        payload: watch\r\n    }\r\n}\r\n\r\nexport function createWatchAction(brand,model,image,battery,mechanism,\r\n    price,strap,glass,waterResistance,navigation) {\r\n    return (dispatch) => {\r\n    createWatch(brand,model,image,battery,mechanism,\r\n        price,strap,glass,waterResistance)\r\n    .then((response) => {\r\n        dispatch(confirmedCreateWatchAction(response.data))\r\n        navigation('/')\r\n    })\r\n    }\r\n}\r\n\r\nexport function confirmedDeleteWatchAction(watchId) {\r\n    return {\r\n        type: DELETE_CONFIRMED_WATCH,\r\n        payload: watchId\r\n    }\r\n}\r\n\r\nexport function deleteWatchAction(watchId,navigation) {\r\n    return (dispatch) => {\r\n        deleteWatch(watchId)\r\n        .then((response) => {\r\n            dispatch(confirmedDeleteWatchAction(watchId))\r\n            navigation('/')\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedEditWatchAction(watch) {\r\n    return {\r\n        type: EDIT_CONFIRMED_WATCH,\r\n        payload: watch\r\n    }\r\n}\r\n\r\nexport function editWatchAction(watchId,brand,model,image,battery,mechanism,\r\n    price,strap,glass,waterResistance,navigate) {\r\n    return (dispatch) => {\r\n        editWatch(watchId,brand,model,image,battery,mechanism,\r\n            price,strap,glass,waterResistance)\r\n        .then((response) => {\r\n            dispatch(confirmedEditWatchAction(response.data))\r\n            navigate(`/watches/${watchId}`)\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedGetWatchesBeforeSearchAction(watches) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCHES_BEFORE_SEARCH,\r\n        payload: watches\r\n    }\r\n}\r\n\r\nexport function getWatchesBeforeSearchAction() {\r\n    return (dispatch) => {\r\n        getAllWatchesBeforeSearch()\r\n        .then((response) => {\r\n            dispatch(confirmedGetWatchesBeforeSearchAction(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedSearchedWatchesAction(watches) {\r\n    return {\r\n        type: GET_CONFIRMED_SEARCHED_WATCHES,\r\n        payload: watches\r\n    }\r\n}\r\n\r\nexport function searchedWatchesAction(brand) {\r\n    return (dispatch) => {\r\n        searchByBrand(brand)\r\n        .then((response) => {\r\n            dispatch(confirmedSearchedWatchesAction(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedAddRatingToWatchAction(watchId) {\r\n    return {\r\n        type: ADD_CONFIRMED_RATING_TO_WATCH,\r\n        payload: watchId\r\n    }\r\n}\r\n\r\nexport function failedAddRatingToWatchAction(message) {\r\n    return {\r\n        type: ADD_FAILED_RATING_TO_WATCH,\r\n        payload: message\r\n    }\r\n}\r\n\r\nexport function addRatingToWatchAction(watchId,userRating) {\r\n    return (dispatch) => {\r\n        rate(watchId,userRating)\r\n        .then((response) => {\r\n            dispatch(confirmedAddRatingToWatchAction(watchId))\r\n            getRate(watchId)\r\n            .then((response) => {\r\n                dispatch(confirmedGetWatchRatingAction(response.data))\r\n            })\r\n        })\r\n        .catch((error) => {\r\n            dispatch(failedAddRatingToWatchAction(error.response.data.message))\r\n            setTimeout(() => {\r\n                dispatch(failedAddRatingToWatchAction(''))\r\n            }, 1000);\r\n        })\r\n }\r\n}\r\n\r\nexport function confirmedGetWatchRatingAction(watchRating) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCH_RATING,\r\n        payload: watchRating\r\n    }\r\n}\r\n\r\nexport function getWatchRatingAction(watchId) {\r\n    return (dispatch) => {\r\n        getRate(watchId)\r\n        .then((response) => {\r\n            dispatch(confirmedGetWatchRatingAction(response.data))\r\n        })\r\n    }\r\n}","\r\nexport function isLoading(state) {\r\n    if(state.spinner.isLoading) {\r\n        return true;\r\n    }\r\n    return false;\r\n}"],"names":["props","_jsx","className","children","_jsxs","connect","state","searchedWatches","watches","isAuthenticated","isLoading","dispatch","bindActionCreators","getWatchesBeforeSearchAction","searchedWatchesAction","useEffect","brand","setBrand","useState","LoadingSpinner","onSubmit","e","preventDefault","type","value","onChange","target","length","map","watch","src","image","alt","model","price","Link","to","concat","_id","getAllWatchesAction","currentPage","itemsPerPage","getAllWatches","then","response","data","totalWatches","totalPages","Math","ceil","trimStart","trimEnd","slice","GET_CONFIRMED_WATCHES","payload","confirmedGetAllWatchesAction","increasePageAction","INCREASE_CURRENT_PAGE","decreasePageAction","DECREASE_CURRENT_PAGE","getSingleWatchAction","watchId","getWatch","GET_CONFIRMED_WATCH","confirmedGetSingleWatchAction","createWatchAction","battery","mechanism","strap","glass","waterResistance","navigation","createWatch","CREATE_CONFIRMED_WATCH","deleteWatchAction","deleteWatch","DELETE_CONFIRMED_WATCH","confirmedDeleteWatchAction","editWatchAction","navigate","editWatch","EDIT_CONFIRMED_WATCH","getAllWatchesBeforeSearch","GET_CONFIRMED_WATCHES_BEFORE_SEARCH","searchByBrand","GET_CONFIRMED_SEARCHED_WATCHES","failedAddRatingToWatchAction","message","ADD_FAILED_RATING_TO_WATCH","addRatingToWatchAction","userRating","rate","ADD_CONFIRMED_RATING_TO_WATCH","confirmedAddRatingToWatchAction","getRate","confirmedGetWatchRatingAction","catch","error","setTimeout","watchRating","GET_CONFIRMED_WATCH_RATING","getWatchRatingAction","spinner"],"sourceRoot":""}