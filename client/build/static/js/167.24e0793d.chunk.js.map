{"version":3,"file":"static/js/167.24e0793d.chunk.js","mappings":"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","sources":["components/LoadingSpinner/LoadingSpinner.js","pages/Watches/Watches.js","store/actions/watchActions.js","store/selectors/spinnerSelectors.js"],"sourcesContent":["import \"./LoadingSpinner.css\";\r\n\r\nfunction LoadingSpinner(props) {\r\n    return (\r\n        <div className=\"spinner\">\r\n        <div className=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingSpinner","import { connect } from \"react-redux\"\r\nimport { bindActionCreators } from \"redux\"\r\nimport { getAllWatchesAction,increasePageAction,decreasePageAction } from \"../../store/actions/watchActions\"\r\nimport { useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { isAdmin, isAuthenticated } from \"../../store/selectors/authSelectors\"\r\nimport \"./Watches.css\"\r\nimport { isLoading } from \"../../store/selectors/spinnerSelectors\"\r\nimport LoadingSpinner from \"../../components/LoadingSpinner/LoadingSpinner\"\r\n\r\nfunction Watches({currentPage,itemsPerPage,getAllWatchesAction,totalPages,increasePageAction,decreasePageAction,watches,isOwner,isAuthenticated,isLoading}) {\r\n\r\n    useEffect(() => {\r\n        getAllWatchesAction(currentPage, itemsPerPage);\r\n\r\n    },[currentPage,itemsPerPage,getAllWatchesAction]);\r\n\r\n    function onNext(e) {\r\n        e.preventDefault()\r\n        if(currentPage === totalPages) {\r\n            return;\r\n        }\r\n        increasePageAction()\r\n    }\r\n\r\n    function onPrevious(e) {\r\n        e.preventDefault()\r\n        if(currentPage === 1) {\r\n            return;\r\n        }\r\n        decreasePageAction()\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"outer-watches-container\">\r\n\r\n            {isLoading && <LoadingSpinner />}\r\n            <h1>Watches</h1>\r\n\r\n           <div className=\"watches-container\">\r\n\r\n           {watches.length > 0\r\n\r\n            ? (watches.map((watch) =>\r\n            <div key={watch._id} className=\"watches-card\">\r\n            <div className=\"watches-img-container\"><img src={watch.image} alt=\"watch\" /></div>\r\n            <p>Brand: {watch.brand}</p>\r\n            <p>Model: {watch.model}</p>\r\n            <p>Price:  â‚¬ {watch.price}</p>\r\n            <Link to={`/watches/${watch._id}`}>Details</Link>\r\n            {!isAuthenticated && <p>You must be logged in to buy</p>}\r\n            </div>))\r\n\r\n            : (<p>No watches available</p>)}\r\n\r\n           </div>\r\n\r\n            <div className=\"watches-btns\">\r\n            <button onClick={onPrevious}>Previous Page</button>\r\n            <button onClick={onNext}>Next Page</button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        watches: state.watches.watches,\r\n        currentPage: state.watches.currentPage,\r\n        itemsPerPage: state.watches.itemsPerPage,\r\n        totalPages: state.watches.totalPages,\r\n        isOwner: isAdmin(state),\r\n        isAuthenticated: isAuthenticated(state),\r\n        isLoading: isLoading(state)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({getAllWatchesAction,increasePageAction,decreasePageAction},dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Watches)","import { createWatch, deleteWatch, editWatch, getAllWatches, getAllWatchesBeforeSearch, getRate, getWatch, rate, searchByBrand } from \"../../services/watchService\";\r\nimport { ADD_CONFIRMED_RATING_TO_WATCH, ADD_FAILED_RATING_TO_WATCH, CREATE_CONFIRMED_WATCH, DECREASE_CURRENT_PAGE, DELETE_CONFIRMED_WATCH, EDIT_CONFIRMED_WATCH, GET_CONFIRMED_SEARCHED_WATCHES, GET_CONFIRMED_WATCH, GET_CONFIRMED_WATCHES, GET_CONFIRMED_WATCHES_BEFORE_SEARCH, GET_CONFIRMED_WATCH_RATING, INCREASE_CURRENT_PAGE } from \"./watchTypes\";\r\n\r\n\r\nexport function confirmedGetAllWatchesAction(data,totalPages) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCHES,\r\n        payload: { watches: data, totalPages }\r\n    };\r\n}\r\n\r\nexport function getAllWatchesAction(currentPage,itemsPerPage) {\r\n    return (dispatch) => {\r\n        getAllWatches()\r\n        .then((response) => {\r\n            let watches = response.data;\r\n            let totalWatches = watches.length;\r\n            let totalPages = Math.ceil(totalWatches / itemsPerPage)\r\n            let trimStart = (currentPage - 1) * itemsPerPage\r\n            let trimEnd = trimStart + itemsPerPage\r\n            watches = watches.slice(trimStart,trimEnd)\r\n            dispatch(confirmedGetAllWatchesAction(watches,totalPages))\r\n        })\r\n    }\r\n}\r\n\r\nexport function increasePageAction() {\r\n    return {\r\n        type: INCREASE_CURRENT_PAGE\r\n    }\r\n}\r\n\r\nexport function decreasePageAction() {\r\n    return {\r\n        type: DECREASE_CURRENT_PAGE\r\n    }\r\n}\r\n\r\n\r\nexport function confirmedGetSingleWatchAction(watchId) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCH,\r\n        payload: watchId\r\n    }\r\n}\r\n\r\nexport function getSingleWatchAction(watchId) {\r\n    return (dispatch) => {\r\n        getWatch(watchId)\r\n        .then((response) => {\r\n            dispatch(confirmedGetSingleWatchAction(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedCreateWatchAction(watch) {\r\n    return {\r\n        type: CREATE_CONFIRMED_WATCH,\r\n        payload: watch\r\n    }\r\n}\r\n\r\nexport function createWatchAction(brand,model,image,battery,mechanism,\r\n    price,strap,glass,waterResistance,navigation) {\r\n    return (dispatch) => {\r\n    createWatch(brand,model,image,battery,mechanism,\r\n        price,strap,glass,waterResistance)\r\n    .then((response) => {\r\n        dispatch(confirmedCreateWatchAction(response.data))\r\n        navigation('/')\r\n    })\r\n    }\r\n}\r\n\r\nexport function confirmedDeleteWatchAction(watchId) {\r\n    return {\r\n        type: DELETE_CONFIRMED_WATCH,\r\n        payload: watchId\r\n    }\r\n}\r\n\r\nexport function deleteWatchAction(watchId,navigation) {\r\n    return (dispatch) => {\r\n        deleteWatch(watchId)\r\n        .then((response) => {\r\n            dispatch(confirmedDeleteWatchAction(watchId))\r\n            navigation('/')\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedEditWatchAction(watch) {\r\n    return {\r\n        type: EDIT_CONFIRMED_WATCH,\r\n        payload: watch\r\n    }\r\n}\r\n\r\nexport function editWatchAction(watchId,brand,model,image,battery,mechanism,\r\n    price,strap,glass,waterResistance,navigate) {\r\n    return (dispatch) => {\r\n        editWatch(watchId,brand,model,image,battery,mechanism,\r\n            price,strap,glass,waterResistance)\r\n        .then((response) => {\r\n            dispatch(confirmedEditWatchAction(response.data))\r\n            navigate(`/watches/${watchId}`)\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedGetWatchesBeforeSearchAction(watches) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCHES_BEFORE_SEARCH,\r\n        payload: watches\r\n    }\r\n}\r\n\r\nexport function getWatchesBeforeSearchAction() {\r\n    return (dispatch) => {\r\n        getAllWatchesBeforeSearch()\r\n        .then((response) => {\r\n            dispatch(confirmedGetWatchesBeforeSearchAction(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedSearchedWatchesAction(watches) {\r\n    return {\r\n        type: GET_CONFIRMED_SEARCHED_WATCHES,\r\n        payload: watches\r\n    }\r\n}\r\n\r\nexport function searchedWatchesAction(brand) {\r\n    return (dispatch) => {\r\n        searchByBrand(brand)\r\n        .then((response) => {\r\n            dispatch(confirmedSearchedWatchesAction(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport function confirmedAddRatingToWatchAction(watchId) {\r\n    return {\r\n        type: ADD_CONFIRMED_RATING_TO_WATCH,\r\n        payload: watchId\r\n    }\r\n}\r\n\r\nexport function failedAddRatingToWatchAction(message) {\r\n    return {\r\n        type: ADD_FAILED_RATING_TO_WATCH,\r\n        payload: message\r\n    }\r\n}\r\n\r\nexport function addRatingToWatchAction(watchId,userRating) {\r\n    return (dispatch) => {\r\n        rate(watchId,userRating)\r\n        .then((response) => {\r\n            dispatch(confirmedAddRatingToWatchAction(watchId))\r\n            getRate(watchId)\r\n            .then((response) => {\r\n                dispatch(confirmedGetWatchRatingAction(response.data))\r\n            })\r\n        })\r\n        .catch((error) => {\r\n            dispatch(failedAddRatingToWatchAction(error.response.data.message))\r\n            setTimeout(() => {\r\n                dispatch(failedAddRatingToWatchAction(''))\r\n            }, 1000);\r\n        })\r\n }\r\n}\r\n\r\nexport function confirmedGetWatchRatingAction(watchRating) {\r\n    return {\r\n        type: GET_CONFIRMED_WATCH_RATING,\r\n        payload: watchRating\r\n    }\r\n}\r\n\r\nexport function getWatchRatingAction(watchId) {\r\n    return (dispatch) => {\r\n        getRate(watchId)\r\n        .then((response) => {\r\n            dispatch(confirmedGetWatchRatingAction(response.data))\r\n        })\r\n    }\r\n}","\r\nexport function isLoading(state) {\r\n    if(state.spinner.isLoading) {\r\n        return true;\r\n    }\r\n    return false;\r\n}"],"names":["props","_jsx","className","children","_jsxs","connect","state","watches","currentPage","itemsPerPage","totalPages","isOwner","isAdmin","isAuthenticated","isLoading","dispatch","bindActionCreators","getAllWatchesAction","increasePageAction","decreasePageAction","_ref","useEffect","LoadingSpinner","length","map","watch","src","image","alt","brand","model","price","Link","to","concat","_id","onClick","e","preventDefault","getAllWatches","then","response","data","totalWatches","Math","ceil","trimStart","trimEnd","slice","type","GET_CONFIRMED_WATCHES","payload","confirmedGetAllWatchesAction","INCREASE_CURRENT_PAGE","DECREASE_CURRENT_PAGE","getSingleWatchAction","watchId","getWatch","GET_CONFIRMED_WATCH","confirmedGetSingleWatchAction","createWatchAction","battery","mechanism","strap","glass","waterResistance","navigation","createWatch","CREATE_CONFIRMED_WATCH","deleteWatchAction","deleteWatch","DELETE_CONFIRMED_WATCH","confirmedDeleteWatchAction","editWatchAction","navigate","editWatch","EDIT_CONFIRMED_WATCH","getWatchesBeforeSearchAction","getAllWatchesBeforeSearch","GET_CONFIRMED_WATCHES_BEFORE_SEARCH","searchedWatchesAction","searchByBrand","GET_CONFIRMED_SEARCHED_WATCHES","failedAddRatingToWatchAction","message","ADD_FAILED_RATING_TO_WATCH","addRatingToWatchAction","userRating","rate","ADD_CONFIRMED_RATING_TO_WATCH","confirmedAddRatingToWatchAction","getRate","confirmedGetWatchRatingAction","catch","error","setTimeout","watchRating","GET_CONFIRMED_WATCH_RATING","getWatchRatingAction","spinner"],"sourceRoot":""}