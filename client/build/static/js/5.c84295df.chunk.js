"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5],{4132:(t,e,n)=>{n.d(e,{Z:()=>s});var a=n(184);const s=function(t){return(0,a.jsx)("div",{className:"spinner",children:(0,a.jsxs)("div",{className:"lds-spinner",children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{})]})})}},6005:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var a=n(6598),s=n(6561),r=n(1647),c=n(2791),i=n(7689),o=n(1087),d=n(9101),l=n(5903),h=n(9806),u=n(1632),p=n(184);function j(t){return(0,p.jsx)("span",{onClick:t.onRate,onMouseEnter:t.onHoverIn,onMouseLeave:t.onHoverOut,children:t.full?(0,p.jsx)(h.G,{icon:u.Tab,size:"xl",style:{color:"#96a61c",cursor:"pointer"}}):(0,p.jsx)(h.G,{icon:u.Tab,size:"xl",style:{color:"#1a1a19",cursor:"pointer"}})})}const x=(0,d.$j)((t=>({errorMessage:t.watches.errorMessage})),(t=>(0,a.DE)({addRatingToWatchAction:s.Zb,getWatchRatingAction:s.y9},t)))((function(t){const[e,n]=(0,c.useState)(0),[a,s]=(0,c.useState)(0);return(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:"Rate:"}),Array.from({length:5},((r,c)=>(0,p.jsx)(j,{full:a?a>=c+1:e>=c+1,onRate:()=>{return n(e=c+1),void t.addRatingToWatchAction(t.watchId,e);var e},onHoverIn:()=>s(c+1),onHoverOut:()=>s(0)},c))),(0,p.jsx)("span",{className:"temp-rating",children:a||""}),t.errorMessage&&(0,p.jsx)("span",{className:"error-msg",children:t.errorMessage})]})}));var g=n(2069),f=n(4132);const v=(0,d.$j)((t=>({watch:t.watches.watch,isOwner:(0,l.G)(t),isAuthenticated:(0,l.$)(t),errorMessage:t.auth.errorMessage,watchRating:t.watches.watchRating,isLoading:(0,g.h)(t)})),(t=>(0,a.DE)({getSingleWatchAction:s.ZN,deleteWatchAction:s.cW,addWatchToCartAction:r.Lf,getWatchRatingAction:s.y9},t)))((function(t){const{watchId:e}=(0,i.UO)(),n=(0,i.s0)();return(0,c.useEffect)((()=>{t.getSingleWatchAction(e),t.getWatchRatingAction(e)}),[]),(0,p.jsxs)("div",{className:"outer-details-container",children:[t.isLoading&&(0,p.jsx)(f.Z,{}),(0,p.jsxs)("div",{className:"inner-details-container",children:[(0,p.jsx)("div",{className:"details-image",children:(0,p.jsx)("img",{src:t.watch.image,alt:"watch"})}),(0,p.jsxs)("h4",{children:["Brand: ",t.watch.brand]}),(0,p.jsxs)("p",{children:["Model: ",t.watch.model]}),(0,p.jsxs)("p",{children:["Battery: ",t.watch.battery]}),(0,p.jsxs)("p",{children:["Mechanism: ",t.watch.mechanism]}),(0,p.jsxs)("p",{children:["Price: \u20ac ",t.watch.price]}),(0,p.jsxs)("p",{children:["Strap: ",t.watch.strap]}),(0,p.jsxs)("p",{children:["Glass: ",t.watch.glass]}),(0,p.jsxs)("p",{children:["Water Resistance: ",t.watch.waterResistance]}),(0,p.jsxs)("p",{children:["Average Rating: ",t.watchRating]}),(0,p.jsxs)("div",{className:"details-btns",children:[t.isOwner&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{className:"delete-btn",onClick:function(a){a.preventDefault(),window.confirm("Are you sure you want to delete this watch?")&&t.deleteWatchAction(e,n)},children:"Delete"}),(0,p.jsx)(o.rU,{className:"edit-btn",to:"/watches/".concat(t.watch._id,"/edit"),children:"Edit"})]}),t.isAuthenticated&&!t.isOwner&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x,{watchId:t.watch._id}),(0,p.jsx)("button",{className:"cart-btn",onClick:function(n){n.preventDefault(),t.addWatchToCartAction(e)},children:"Add To Cart"}),t.errorMessage&&(0,p.jsx)("p",{className:"error-msg",children:t.errorMessage})]})]})]})]})}))},6561:(t,e,n)=>{n.d(e,{Kf:()=>i,R3:()=>h,XO:()=>d,ZN:()=>o,Zb:()=>x,cW:()=>l,gc:()=>p,lL:()=>u,mb:()=>r,y$:()=>c,y9:()=>f});var a=n(2642),s=n(2587);function r(t,e){return n=>{(0,a.dY)().then((a=>{let r=a.data,c=r.length,i=Math.ceil(c/e),o=(t-1)*e,d=o+e;r=r.slice(o,d),n(function(t,e){return{type:s.GM,payload:{watches:t,totalPages:e}}}(r,i))}))}}function c(){return{type:s.B$}}function i(){return{type:s.bB}}function o(t){return e=>{(0,a.D)(t).then((t=>{e(function(t){return{type:s.EU,payload:t}}(t.data))}))}}function d(t,e,n,r,c,i,o,d,l,h){return u=>{(0,a.bv)(t,e,n,r,c,i,o,d,l).then((t=>{var e;u((e=t.data,{type:s.SI,payload:e})),h("/")}))}}function l(t,e){return n=>{(0,a.AF)(t).then((a=>{n(function(t){return{type:s.oz,payload:t}}(t)),e("/")}))}}function h(t,e,n,r,c,i,o,d,l,h,u){return p=>{(0,a.U8)(t,e,n,r,c,i,o,d,l,h).then((e=>{var n;p((n=e.data,{type:s.VT,payload:n})),u("/watches/".concat(t))}))}}function u(){return t=>{(0,a.CZ)().then((e=>{var n;t((n=e.data,{type:s.ev,payload:n}))}))}}function p(t){return e=>{(0,a.d3)(t).then((t=>{var n;e((n=t.data,{type:s.Rj,payload:n}))}))}}function j(t){return{type:s.GW,payload:t}}function x(t,e){return n=>{(0,a.rW)(t,e).then((e=>{n(function(t){return{type:s.gY,payload:t}}(t)),(0,a.fB)(t).then((t=>{n(g(t.data))}))})).catch((t=>{n(j(t.response.data.message)),setTimeout((()=>{n(j(""))}),1e3)}))}}function g(t){return{type:s.VR,payload:t}}function f(t){return e=>{(0,a.fB)(t).then((t=>{e(g(t.data))}))}}},2069:(t,e,n)=>{function a(t){return!!t.spinner.isLoading}n.d(e,{h:()=>a})}}]);
//# sourceMappingURL=5.c84295df.chunk.js.map